<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="My simple version control system for storing binary files">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pyver, Version Control For Dummies | ifcuriousthenlearn</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://nagordon.github.io/ifcuriousthenlearn/blog/pyver-version-control/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="neal">
<link rel="prev" href="../windows-chocolatey/" title="Windows package management with Chocolatey" type="text/html">
<link rel="next" href="../python-tutor/" title="Python Tutor, and interactive execution tool" type="text/html">
<meta property="og:site_name" content="ifcuriousthenlearn">
<meta property="og:title" content="Pyver, Version Control For Dummies">
<meta property="og:url" content="https://nagordon.github.io/ifcuriousthenlearn/blog/pyver-version-control/">
<meta property="og:description" content="My simple version control system for storing binary files">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2016-05-06T00:00:00-08:00">
<meta property="article:tag" content="computing">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://nagordon.github.io/ifcuriousthenlearn/">

                <span id="blog-title">ifcuriousthenlearn</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../index.html">Home</a>
                </li>
<li>
<a href="../../archive.html">Blog</a>
                </li>
<li>
<a href="../../about/index.html">About</a>
                </li>
<li>
<a href="../../categories/index.html">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.md" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Pyver, Version Control For Dummies</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    neal
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2016-05-06T00:00:00-08:00" itemprop="datePublished" title="2016-05-06 00:00">2016-05-06 00:00</time></a>
            </p>
                <p class="commentline">
    
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/Version_Control_for_Dummies.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.md" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <h3>Why pyver?</h3>
<p>The movtiation behind pyver, which is to creating a version control method which is very, very simple to track the history of files. The work-flow of pyver is something I do anyway when working on something simple that uses binary files, especially ones that are linked through the software that is required to read them (eg CAD designs). I will create multiple directories, eg v1, v2 and copy the entire contents of my in-progress files in it that I want to preserve the history. The issue with this is that when file names are changed, it can break links to dependent files, so keeping a file identical is important for tracking files. It was also a goal to use this tool over a network drive where multiple users can archive files as they wish
There are a couple of other excellent options, but have a steep learning curve and some do not perform well with large binary files. Also, most version control systems are designed for code or text files, not large binanry files, like word documents or cad files. If you need more functionality, I'd recommend checking out these programs in order os simplicity. <a href="https://bitbucket.org/mats_ekberg/boar/wiki/Home">boar VCS</a>, <a href="https://www.mercurial-scm.org/">mercurial SCM</a>, <a href="https://git-scm.com/">git</a> with the <a href="https://git-lfs.github.com/">large file extension</a></p>
<h3>The basic operation of this program goes like this</h3>
<p>1) create some files<br>
2) run pyver and make a copy of your files<br>
3) make as many revisions as you want<br>
4) if you want to revert back to an older revision, grab files out of the dated .archive directories and put them in your current directory  </p>
<h4>Criteria for design</h4>
<ul>
<li>Simplicity is your friend, obscurity is your enemy</li>
<li>It is unacceptable to rename files to track versions. This accomplishes this by putting the files in different directories and keep your current file with the desired, persistent filename</li>
<li>Can be used over a network drive. Does not require a central server.</li>
<li>Be OS agnostic (written in Python)</li>
<li>know when the changes were made, with a comment and who did it</li>
</ul>
<h2>Tutorial</h2>
<p>To get started, lets do a quick demo in windows. Brace yourself, you are going to have to use the command line. In your current directory with the pyver.py file, open a command line with <code>shift+right_click</code> and in the menu select <code>Open command window here</code>. Another way to get a command window in your current directory is to type <code>alt+D</code> and type <code>powershell</code> or <code>cmd</code>.
Now type</p>
<pre class="code literal-block">python pyver.py
</pre>
<p>Done. That's it. We have created a pyver repository and made a backup of all the files in our current directory in an archive naming year-month-day-hour-minute-second. Anytime we need to make another backup, just repeat the last step.</p>
<p>OK, lets add a bit more work upfront to save us some typing for years to come. I would recommend having a windows folder that is added to the user PATH system variable where you can keep test or production scripts that you want to access from the command line. For example, I have <code>C:\Users\Neal\bin</code> that is in the system PATH variable which I can dump python scripts with the *.bat file. Now, all we have to type is <code>pyver</code> to get the same result as <code>python pyver.py</code>
To add this path variable, type</p>
<blockquote>
<p>1) Start <br>
2) search "variables" and select "Edit Enviornmental variables for your account"<br>
3) Add PATH variable or append with the path to the folder with your scripts    </p>
</blockquote>
<p>There are a few built in commands to interrogate the repository. The first is log, which shows the contents of a text file that keeps track of the commits that are made</p>
<pre class="code literal-block"><span class="nv">pyver</span> <span class="nv">log</span>
<span class="nv">Neal</span> , <span class="mi">20160125210812</span> , <span class="mi">7</span><span class="nv">kb</span> ,  , <span class="nv">pyver</span>.<span class="nv">py</span><span class="o">|</span><span class="nv">README</span>.<span class="nv">md</span><span class="o">|</span><span class="nv">pyver</span>.<span class="nv">bat</span>
<span class="nv">Neal</span> , <span class="mi">20160125210814</span> , <span class="mi">7</span><span class="nv">kb</span> ,  , <span class="nv">pyver</span>.<span class="nv">py</span><span class="o">|</span><span class="nv">README</span>.<span class="nv">md</span><span class="o">|</span><span class="nv">pyver</span>.<span class="nv">bat</span>
<span class="nv">Neal</span> , <span class="mi">20160125210817</span> , <span class="mi">7</span><span class="nv">kb</span> ,  , <span class="nv">pyver</span>.<span class="nv">py</span><span class="o">|</span><span class="nv">README</span>.<span class="nv">md</span><span class="o">|</span><span class="nv">pyver</span>.<span class="nv">bat</span>
<span class="nv">Neal</span> , <span class="mi">20160125210854</span> , <span class="mi">7</span><span class="nv">kb</span> , <span class="nv">making</span> <span class="nv">a</span> <span class="nv">comment</span> <span class="k">for</span> <span class="nv">this</span> <span class="nv">commit</span> , <span class="nv">pyver</span>.<span class="nv">py</span><span class="o">|</span><span class="nv">README</span>.<span class="nv">md</span><span class="o">|</span><span class="nv">pyver</span>.<span class="nv">bat</span>
<span class="nv">Neal</span> , <span class="mi">20160125210912</span> , <span class="mi">4</span><span class="nv">kb</span> , <span class="nv">only</span> <span class="nv">adding</span> <span class="nv">one</span> <span class="nv">file</span> , <span class="nv">pyver</span>.<span class="nv">py</span>
</pre>
<p>The next is tree, which shows all the files in the repo.</p>
<pre class="code literal-block">pyver tree

./.archive
|  ./20160125210812
|   |     pyver.py  
|   |     README.md  
|   |     pyver.bat  
|     pyver.log  
|  ./20160125210814
|   |     pyver.py  
|   |     README.md  
|   |     pyver.bat  
|  ./20160125210817
|   |     pyver.py  
|   |     README.md  
|   |     pyver.bat  
|  ./20160125210854
|   |     pyver.py  
|   |     README.md  
|   |     pyver.bat  
|  ./20160125210912
|   |     pyver.py  
  pyver.py  
  README.md  
  pyver.bat  
</pre>
<p>We also have some flags we can use to customize our commits. This commit adds only the files file1.txt and file2.docx and adds a comment. Note-none of the flag inputs can have spaces, so files are seperated by <code>|</code> and comments are written without spaces using <code>-</code></p>
<pre class="code literal-block"><span class="nv">pyver</span> <span class="o">-</span><span class="nv">f</span> <span class="s2">"</span><span class="s">file1.txt|file2.docx</span><span class="s2">"</span> <span class="o">-</span><span class="nv">c</span> <span class="s2">"</span><span class="s">making a comment for this commit</span><span class="s2">"</span>
</pre>
<p>We can also use wildcards to add groups of files rather than listing each individual file.</p>
<pre class="code literal-block">pyver -f "*.txt|*.docx" -c "I added all the txt and docx files to my archive"
</pre>
<p>Also, by default, pyver will skip all files and directories that start with . and ~. These files are typically temporary, backup, or configuration files.</p>
<p>I used pyinstaller to build my own windows executable</p>
<pre class="code literal-block">pyinstaller pyver.py --onefile
</pre>
<p>There you have it. The worlds easiest version control system that multiple users can use over a network, retrieving your old files is trivial, and now you don't have to change your file names to all the silly things people come up with.</p>
<p>You can find the source code here. <a href="https://github.com/nagordon/pyver">https://github.com/nagordon/pyver</a></p>
<p>This was a fun project to learn more about file manipulation with python and in the end, I now have a handy tool!</p>
<p>Stay Curious!</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/computing/" rel="tag">computing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../windows-chocolatey/" rel="prev" title="Windows package management with Chocolatey">Previous post</a>
            </li>
            <li class="next">
                <a href="../python-tutor/" rel="next" title="Python Tutor, and interactive execution tool">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
    
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="ifcuriousthenlearn-nickola",
            disqus_url="https://nagordon.github.io/ifcuriousthenlearn/blog/pyver-version-control/",
        disqus_title="Pyver, Version Control For Dummies",
        disqus_identifier="cache/posts/Version_Control_for_Dummies.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="ifcuriousthenlearn-nickola";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2022         <a href="mailto:">neal</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         copyright Neal Gordon
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
